{"version":3,"sources":["dist/gotpl.js"],"names":["global","factory","exports","module","define","amd","self","gotpl","this","x","jsTokens","Object","defineProperty","value","default","matchToToken","match","token","type","closed","undefined","fn","jsTokens$1","__esModule","prototype","hasOwnProperty","call","jsTokens_1","reservedKeywords","abstract","await","boolean","break","byte","case","catch","char","class","const","continue","debugger","delete","do","double","else","enum","export","extends","false","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","let","long","native","new","null","package","private","protected","public","return","short","static","super","switch","synchronized","throw","transient","true","try","typeof","var","void","volatile","while","with","yield","isKeywordJs","str","matchHtmlRegExp","escapeHtml_1","string","escape","exec","html","index","lastIndex","length","charCodeAt","substring","LINE_RE","INDENT_RE","tplCache","fileCache","defOpts","root","debug","cache","minify","openTag","closeTag","merge","target","objects","arguments$1","arguments","loop","i","l","object","keys","forEach","key","renderByPath","path","template","data","options","filename","base","require","isAbsolute","resolve","extname","dirname","join","resolvePath","compiled","compile","readFileSync","toString","e","renderFileSync","lines","variables","globalObj","codes","split","segment","logicCode","logic","htmlCode","JSON","stringify","parseHTML","replace","indexOf","parseValue","slice","trim","map","keyword","push","variable","parseVariables","Function","rethrow","subData","subOptions","err","line","start","Math","max","end","min","message","curLine","config","render","renderFile","next","promise","fs","Promise","reject","readFile","buffer","escapeHTML","version"],"mappings":"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"}