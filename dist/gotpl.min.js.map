{"version":3,"sources":["dist/gotpl.js"],"names":["global","factory","exports","module","define","amd","self","gotpl","this","x","jsTokens","Object","defineProperty","value","default","matchToToken","match","token","type","closed","undefined","fn","jsTokens$1","__esModule","prototype","hasOwnProperty","call","jsTokens_1","reservedKeywords","abstract","await","boolean","break","byte","case","catch","char","class","const","continue","debugger","delete","do","double","else","enum","export","extends","false","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","let","long","native","new","null","package","private","protected","public","return","short","static","super","switch","synchronized","throw","transient","true","try","typeof","var","void","volatile","while","with","yield","isKeywordJs","str","matchHtmlRegExp","escapeHtml_1","string","escape","exec","html","index","lastIndex","length","charCodeAt","substring","LINE_RE","INDENT_RE","tplCache","fileCache","defOpts","root","debug","cache","minify","openTag","closeTag","merge","target","objects","arguments$1","arguments","loop","i","l","object","keys","forEach","key","renderByPath","path","template","data","options","filename","base","require","isAbsolute","resolve","extname","dirname","join","resolvePath","compiled","compile","readFileSync","toString","e","renderFileSync","lines","variables","globalObj","codes","split","segment","htmlCode","logicCode","logic","replace","JSON","stringify","parseHTML","indexOf","parseValue","slice","trim","ignore","map","keyword","push","getVariables","variable","parseVariables","Function","subData","rethrow","err","line","start","Math","max","end","min","message","curLine","config","render","renderFile","next","promise","fs","Promise","reject","readFile","buffer","escapeHTML","version"],"mappings":"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"}